# ============================================================================
# PROMPT2 Environment Configuration
# ============================================================================
# This file contains all environment variables for the PROMPT2 application
# Copy this file to .env and adjust values for your environment

# ============================================================================
# GENERAL APPLICATION SETTINGS
# ============================================================================

# Application environment (development, staging, production)
ENVIRONMENT=development

# Core application host URL (without protocol for development, with for production)
CORE_HOST=http://localhost:3000

# University/Organization branding
CHAIR_NAME_SHORT=Applied Education Technologies
CHAIR_NAME_LONG=TUM Research Group for Applied Education Technologies

# Server configuration
SERVER_ADDRESS=0.0.0.0:8080

# ============================================================================
# CORE DATABASE CONFIGURATION
# ============================================================================
# Main application database settings

DB_CORE_HOST=db
DB_CORE_PORT=5432
DB_CORE_NAME=prompt
DB_CORE_USER=prompt-postgres
DB_CORE_PASSWORD=prompt-postgres

# ============================================================================
# INTRO COURSE DATABASE CONFIGURATION
# ============================================================================
# Database for intro course functionality

DB_INTRO_COURSE_HOST=db-intro-course
DB_INTRO_COURSE_PORT=5432
DB_INTRO_COURSE_NAME=prompt
DB_INTRO_COURSE_USER=prompt-postgres
DB_INTRO_COURSE_PASSWORD=prompt-postgres

# ============================================================================
# TEAM ALLOCATION DATABASE CONFIGURATION
# ============================================================================
# Database for team allocation functionality

DB_TEAM_ALLOCATION_HOST=db-team-allocation
DB_TEAM_ALLOCATION_PORT=5432
DB_TEAM_ALLOCATION_NAME=prompt
DB_TEAM_ALLOCATION_USER=prompt-postgres
DB_TEAM_ALLOCATION_PASSWORD=prompt-postgres

# ============================================================================
# SELF TEAM ALLOCATION DATABASE CONFIGURATION
# ============================================================================
# Database for self team allocation functionality

DB_SELF_TEAM_ALLOCATION_HOST=db-self-team-allocation
DB_SELF_TEAM_ALLOCATION_PORT=5432
DB_SELF_TEAM_ALLOCATION_NAME=prompt
DB_SELF_TEAM_ALLOCATION_USER=prompt-postgres
DB_SELF_TEAM_ALLOCATION_PASSWORD=prompt-postgres

# ============================================================================
# ASSESSMENT DATABASE CONFIGURATION
# ============================================================================
# Database for assessment functionality

DB_ASSESSMENT_HOST=db-assessment
DB_ASSESSMENT_PORT=5432
DB_ASSESSMENT_NAME=prompt
DB_ASSESSMENT_USER=prompt-postgres
DB_ASSESSMENT_PASSWORD=prompt-postgres

# ============================================================================
# TEMPLATE SERVER DATABASE CONFIGURATION
# ============================================================================
# Database for template server functionality

DB_TEMPLATE_HOST=db-template-server
DB_TEMPLATE_PORT=5437
DB_TEMPLATE_NAME=prompt
DB_TEMPLATE_USER=prompt-postgres
DB_TEMPLATE_PASSWORD=prompt-postgres

# ============================================================================
# KEYCLOAK DATABASE CONFIGURATION
# ============================================================================
# Database for Keycloak authentication service

KEYCLOAK_DB_HOST=keycloak-db
KEYCLOAK_DB_PORT=5432
KEYCLOAK_DB_NAME=keycloak
KEYCLOAK_DB_USER=keycloak
KEYCLOAK_DB_PASSWORD=keycloak

# ============================================================================
# KEYCLOAK AUTHENTICATION SETTINGS
# ============================================================================

# Keycloak server configuration
KEYCLOAK_HOST=http://localhost:8081
KEYCLOAK_REALM_NAME=prompt
KEYCLOAK_CLIENT_ID=prompt-server
KEYCLOAK_CLIENT_SECRET= # FIXME: Set your Keycloak client secret here
KEYCLOAK_ID_OF_CLIENT=a584ca61-fa83-4e95-98b6-c5f3157ae4b4
KEYCLOAK_AUTHORIZED_PARTY=prompt-client

# Keycloak admin credentials (development only)
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin

# ============================================================================
# EMAIL/SMTP CONFIGURATION
# ============================================================================
# Email server settings for notifications

SENDER_EMAIL=prompt@ase.cit.tum.de
SENDER_NAME=AET Mailing Service
SMTP_HOST=postfix
SMTP_PORT=25
SMTP_USERNAME=
SMTP_PASSWORD=

# ============================================================================
# DOCKER IMAGE TAGS
# ============================================================================
# Version tags for Docker images (used in production)

SERVER_CORE_IMAGE_TAG=main
SERVER_INTRO_COURSE_IMAGE_TAG=main
SERVER_TEAM_ALLOCATION_IMAGE_TAG=main
SERVER_SELF_TEAM_ALLOCATION_IMAGE_TAG=main
SERVER_ASSESSMENT_IMAGE_TAG=main

CORE_IMAGE_TAG=main
TEMPLATE_IMAGE_TAG=main
INTERVIEW_IMAGE_TAG=main
MATCHING_IMAGE_TAG=main
ASSESSMENT_IMAGE_TAG=main
DEVOPS_CHALLENGE_IMAGE_TAG=main
INTRO_COURSE_DEVELOPER_IMAGE_TAG=main
TEAM_ALLOCATION_IMAGE_TAG=main
SELF_TEAM_ALLOCATION_IMAGE_TAG=main

# ============================================================================
# SSL/TLS CONFIGURATION (Production)
# ============================================================================
# SSL settings for production deployments

ACME_EMAIL=your@email.de
SSL_MODE=disable

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================
# Settings specific to development environment

# Enable debug mode for development
DEBUG=true

# Server core host for inter-service communication
SERVER_CORE_HOST=http://server-core:8080

# ============================================================================
# SENTRY CONFIGURATION
# ============================================================================
# Sentry DSN (Data Source Name) for error tracking and monitoring
# Leave empty to disable Sentry integration

SENTRY_DSN_CORE=
SENTRY_DSN_INTRO_COURSE=
SENTRY_DSN_TEAM_ALLOCATION=
SENTRY_DSN_SELF_TEAM_ALLOCATION=
SENTRY_DSN_ASSESSMENT=
SENTRY_DSN_TEMPLATE_SERVER=

# ============================================================================
# FILE STORAGE CONFIGURATION (S3-Compatible)
# ============================================================================
# File storage backend settings (works with SeaweedFS S3 gateway, AWS S3, MinIO, etc.)

S3_BUCKET=prompt-files
# S3 region (use 'us-east-1' for SeaweedFS)
S3_REGION=us-east-1
S3_ENDPOINT=http://seaweedfs-s3:8333
S3_ACCESS_KEY=admin
S3_SECRET_KEY=admin123
S3_FORCE_PATH_STYLE=true
MAX_FILE_UPLOAD_SIZE_MB=50
# Allowed file types (comma-separated MIME types, leave empty for all)
ALLOWED_FILE_TYPES=application/pdf,image/jpeg,image/png,image/gif,application/zip,text/plain

# ============================================================================
# LEGACY COMPATIBILITY
# ============================================================================
# Legacy environment variables for backward compatibility
# These map to the new specific database configurations above

# Core database (legacy naming)
DB_HOST=${DB_CORE_HOST}
DB_PORT=${DB_CORE_PORT}
DB_NAME=${DB_CORE_NAME}
DB_USER=${DB_CORE_USER}
DB_PASSWORD=${DB_CORE_PASSWORD}

# Database connection strings for different services
DB_HOST_INTRO_COURSE=${DB_INTRO_COURSE_HOST}
DB_PORT_INTRO_COURSE=${DB_INTRO_COURSE_PORT}
DB_HOST_TEAM_ALLOCATION=${DB_TEAM_ALLOCATION_HOST}
DB_PORT_TEAM_ALLOCATION=${DB_TEAM_ALLOCATION_PORT}
DB_HOST_SELF_TEAM_ALLOCATION=${DB_SELF_TEAM_ALLOCATION_HOST}
DB_PORT_SELF_TEAM_ALLOCATION=${DB_SELF_TEAM_ALLOCATION_PORT}
DB_HOST_ASSESSMENT=${DB_ASSESSMENT_HOST}
DB_PORT_ASSESSMENT=${DB_ASSESSMENT_PORT}