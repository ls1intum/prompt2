basePath: /intro-course/api
definitions:
  developerProfileDTO.DeveloperProfile:
    properties:
      appleID:
        type: string
      appleWatchUDID:
        $ref: '#/definitions/pgtype.Text'
      courseParticipationID:
        type: string
      coursePhaseID:
        type: string
      gitLabUsername:
        type: string
      hasMacBook:
        type: boolean
      iPadUDID:
        $ref: '#/definitions/pgtype.Text'
      iPhoneUDID:
        $ref: '#/definitions/pgtype.Text'
    type: object
  developerProfileDTO.DeviceWithParticipationID:
    properties:
      courseParticipationID:
        type: string
      devices:
        items:
          type: string
        type: array
    type: object
  developerProfileDTO.PostDeveloperProfile:
    properties:
      appleID:
        type: string
      appleWatchUDID:
        $ref: '#/definitions/pgtype.Text'
      gitLabUsername:
        type: string
      hasMacBook:
        type: boolean
      iPadUDID:
        $ref: '#/definitions/pgtype.Text'
      iPhoneUDID:
        $ref: '#/definitions/pgtype.Text'
    type: object
  infrastructureDTO.CreateCourseInfrastructureRequest:
    properties:
      semesterTag:
        type: string
    type: object
  infrastructureDTO.CreateStudentRepo:
    properties:
      repoName:
        type: string
      semesterTag:
        type: string
      studentName:
        type: string
      submissionDeadline:
        type: string
    type: object
  infrastructureDTO.GitlabStatus:
    properties:
      courseParticipationID:
        type: string
      coursePhaseID:
        type: string
      createdAt:
        $ref: '#/definitions/pgtype.Timestamp'
      errorMessage:
        type: string
      gitlabSuccess:
        type: boolean
      updatedAt:
        $ref: '#/definitions/pgtype.Timestamp'
    type: object
  pgtype.InfinityModifier:
    enum:
    - 1
    - 0
    - -1
    format: int32
    type: integer
    x-enum-varnames:
    - Infinity
    - Finite
    - NegativeInfinity
  pgtype.Text:
    properties:
      string:
        type: string
      valid:
        type: boolean
    type: object
  pgtype.Timestamp:
    properties:
      infinityModifier:
        $ref: '#/definitions/pgtype.InfinityModifier'
      time:
        description: Time zone will be ignored when encoding to PostgreSQL.
        type: string
      valid:
        type: boolean
    type: object
  seatPlanDTO.Seat:
    properties:
      assignedStudent:
        description: using pgtype bc. it might be empty
        type: string
      assignedTutor:
        type: string
      deviceID:
        $ref: '#/definitions/pgtype.Text'
      hasMac:
        type: boolean
      seatName:
        type: string
    type: object
  seatPlanDTO.SeatAssignment:
    properties:
      deviceID:
        $ref: '#/definitions/pgtype.Text'
      hasMac:
        type: boolean
      seatName:
        type: string
      studentCourseParticipationID:
        type: string
      tutorEmail:
        type: string
      tutorFirstName:
        type: string
      tutorLastName:
        type: string
    type: object
  tutorDTO.Tutor:
    properties:
      email:
        type: string
      firstName:
        type: string
      gitlabUsername:
        type: string
      id:
        type: string
      lastName:
        type: string
      matriculationNumber:
        type: string
      universityLogin:
        type: string
    type: object
  tutorDTO.UpdateTutor:
    properties:
      gitlabUsername:
        type: string
    type: object
externalDocs:
  description: PROMPT Documentation
  url: https://ls1intum.github.io/prompt2/
host: localhost:8082
info:
  contact: {}
  description: This is the intro course server of PROMPT.
  title: PROMPT Intro Course API
  version: "1.0"
paths:
  /course_phase/{coursePhaseID}/developer_profile:
    get:
      description: Returns all developer profiles for the course phase.
      parameters:
      - description: Course Phase UUID
        in: path
        name: coursePhaseID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/developerProfileDTO.DeveloperProfile'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: Get all developer profiles
      tags:
      - developer-profile
    post:
      consumes:
      - application/json
      description: Creates a developer profile for the authenticated student.
      parameters:
      - description: Course Phase UUID
        in: path
        name: coursePhaseID
        required: true
        type: string
      - description: Developer profile payload
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/developerProfileDTO.PostDeveloperProfile'
      produces:
      - application/json
      responses:
        "201":
          description: Created
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: Create developer profile
      tags:
      - developer-profile
  /course_phase/{coursePhaseID}/developer_profile/{courseParticipationID}:
    put:
      consumes:
      - application/json
      description: Creates or updates a developer profile for a course participation.
      parameters:
      - description: Course Phase UUID
        in: path
        name: coursePhaseID
        required: true
        type: string
      - description: Course Participation UUID
        in: path
        name: courseParticipationID
        required: true
        type: string
      - description: Developer profile payload
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/developerProfileDTO.DeveloperProfile'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: Update developer profile
      tags:
      - developer-profile
  /course_phase/{coursePhaseID}/developer_profile/self:
    get:
      description: Returns the developer profile for the authenticated student.
      parameters:
      - description: Course Phase UUID
        in: path
        name: coursePhaseID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/developerProfileDTO.DeveloperProfile'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: Get own developer profile
      tags:
      - developer-profile
  /course_phase/{coursePhaseID}/devices:
    get:
      description: Returns the device list for each course participation in the course
        phase.
      parameters:
      - description: Course Phase UUID
        in: path
        name: coursePhaseID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/developerProfileDTO.DeviceWithParticipationID'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: Get devices for all participations
      tags:
      - devices
  /course_phase/{coursePhaseID}/devices/{courseParticipationID}:
    get:
      description: Returns device identifiers for the specified course participation.
      parameters:
      - description: Course Phase UUID
        in: path
        name: coursePhaseID
        required: true
        type: string
      - description: Course Participation UUID
        in: path
        name: courseParticipationID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              type: string
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "404":
          description: Not Found
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: Get devices for course participation
      tags:
      - devices
  /course_phase/{coursePhaseID}/infrastructure/gitlab/course-setup:
    post:
      consumes:
      - application/json
      description: Creates the GitLab course infrastructure for the course phase.
      parameters:
      - description: Course Phase UUID
        in: path
        name: coursePhaseID
        required: true
        type: string
      - description: Course infrastructure request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/infrastructureDTO.CreateCourseInfrastructureRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: Create course infrastructure
      tags:
      - infrastructure
  /course_phase/{coursePhaseID}/infrastructure/gitlab/student-setup:
    get:
      description: Returns GitLab setup status for all course participations.
      parameters:
      - description: Course Phase UUID
        in: path
        name: coursePhaseID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/infrastructureDTO.GitlabStatus'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: Get student GitLab status
      tags:
      - infrastructure
  /course_phase/{coursePhaseID}/infrastructure/gitlab/student-setup/{courseParticipationID}:
    post:
      consumes:
      - application/json
      description: Creates the GitLab repository for a student.
      parameters:
      - description: Course Phase UUID
        in: path
        name: coursePhaseID
        required: true
        type: string
      - description: Course Participation UUID
        in: path
        name: courseParticipationID
        required: true
        type: string
      - description: Student repository request
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/infrastructureDTO.CreateStudentRepo'
      produces:
      - application/json
      responses:
        "201":
          description: Created
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: Create student infrastructure
      tags:
      - infrastructure
  /course_phase/{coursePhaseID}/infrastructure/gitlab/student-setup/{courseParticipationID}/manual:
    put:
      description: Marks GitLab setup as completed for a student.
      parameters:
      - description: Course Phase UUID
        in: path
        name: coursePhaseID
        required: true
        type: string
      - description: Course Participation UUID
        in: path
        name: courseParticipationID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties:
              type: string
            type: object
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: Manually overwrite student GitLab status
      tags:
      - infrastructure
  /course_phase/{coursePhaseID}/seat_plan:
    delete:
      description: Deletes the seat plan for the course phase.
      parameters:
      - description: Course Phase UUID
        in: path
        name: coursePhaseID
        required: true
        type: string
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: Delete seat plan
      tags:
      - seat-plan
    get:
      description: Returns the seat plan for the course phase.
      parameters:
      - description: Course Phase UUID
        in: path
        name: coursePhaseID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/seatPlanDTO.Seat'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: Get seat plan
      tags:
      - seat-plan
    post:
      consumes:
      - application/json
      description: Creates the initial seat plan with seat names.
      parameters:
      - description: Course Phase UUID
        in: path
        name: coursePhaseID
        required: true
        type: string
      - description: Seat names
        in: body
        name: request
        required: true
        schema:
          items:
            type: string
          type: array
      produces:
      - application/json
      responses:
        "201":
          description: Created
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: Create seat plan
      tags:
      - seat-plan
    put:
      consumes:
      - application/json
      description: Updates the seat plan assignments and device information.
      parameters:
      - description: Course Phase UUID
        in: path
        name: coursePhaseID
        required: true
        type: string
      - description: Seat plan updates
        in: body
        name: request
        required: true
        schema:
          items:
            $ref: '#/definitions/seatPlanDTO.Seat'
          type: array
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: Update seat plan
      tags:
      - seat-plan
  /course_phase/{coursePhaseID}/seat_plan/own-assignment:
    get:
      description: Returns the seat assignment for the authenticated student.
      parameters:
      - description: Course Phase UUID
        in: path
        name: coursePhaseID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/seatPlanDTO.SeatAssignment'
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: Get own seat assignment
      tags:
      - seat-plan
  /course_phase/{coursePhaseID}/tutor:
    get:
      description: Returns all tutors for the course phase.
      parameters:
      - description: Course Phase UUID
        in: path
        name: coursePhaseID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/tutorDTO.Tutor'
            type: array
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: Get tutors
      tags:
      - tutor
  /course_phase/{coursePhaseID}/tutor/{tutorID}:
    put:
      consumes:
      - application/json
      description: Updates the GitLab username for a tutor.
      parameters:
      - description: Course Phase UUID
        in: path
        name: coursePhaseID
        required: true
        type: string
      - description: Tutor UUID
        in: path
        name: tutorID
        required: true
        type: string
      - description: GitLab username update
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/tutorDTO.UpdateTutor'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: Update tutor GitLab username
      tags:
      - tutor
  /course_phase/{coursePhaseID}/tutor/course/{courseID}:
    post:
      consumes:
      - application/json
      description: Imports tutors and assigns them to the Keycloak groups.
      parameters:
      - description: Course Phase UUID
        in: path
        name: coursePhaseID
        required: true
        type: string
      - description: Course UUID
        in: path
        name: courseID
        required: true
        type: string
      - description: List of tutors to import
        in: body
        name: request
        required: true
        schema:
          items:
            $ref: '#/definitions/tutorDTO.Tutor'
          type: array
      produces:
      - application/json
      responses:
        "201":
          description: Created
        "400":
          description: Bad Request
          schema:
            additionalProperties:
              type: string
            type: object
        "500":
          description: Internal Server Error
          schema:
            additionalProperties:
              type: string
            type: object
      security:
      - ApiKeyAuth: []
      summary: Import tutors
      tags:
      - tutor
securityDefinitions:
  ApiKeyAuth:
    description: 'Bearer token authentication. Use format: Bearer {token}'
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
